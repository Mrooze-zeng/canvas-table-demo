(this["webpackJsonpcanvas-demo"]=this["webpackJsonpcanvas-demo"]||[]).push([[0],{1524:function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n),s=i(24),o=i.n(s),a=(i(31),i(32),0),h=2,l=3,c=[{title:"No.",width:100,type:1,key:"id",fixed:!0},{title:"Avatar",width:100,type:a,key:"avatar",fixed:!0},{title:"Name",width:120,type:l,key:"name",fixed:!0},{title:"Age",width:100,key:"age",type:l},{title:"Province",width:100,key:"province",type:l},{title:"City",width:120,key:"city",type:l},{title:"Address",width:200,key:"address",type:l},{title:"ZipCode",width:100,key:"zipcode",type:l},{title:"Description",width:250,key:"description",type:l},{title:"Action",width:100,key:"action",type:h}],u=i(25),d=i(2),v=i(3),g=i(7),y=i(6),f=i(8),p=i.n(f),x=function(){function t(e){var i=e.name,n=void 0===i?"":i,r=e.type,s=void 0===r?"":r,o=e.text,a=void 0===o?"":o,h=e.x,l=void 0===h?0:h,c=e.y,u=void 0===c?0:c,v=e.width,g=void 0===v?100:v,y=e.height,f=void 0===y?45:y,p=e.color,x=void 0===p?"yellow":p,w=e.fixed,m=void 0===w?"":w,b=e.columns,k=void 0===b?[]:b,C=e.column,S=void 0===C?{}:C,L=e.dataSource,O=void 0===L?{}:L,j=e.stage,E=void 0===j?{}:j,T=e.layer,R=void 0===T?null:T,B=e.events,D=void 0===B?{}:B;Object(d.a)(this,t),this.image=null,this.listeners=new Map,this.visibleX=0,this.visibleY=0,this.actualWidth=0,this.actualHeight=0,this.name=n,this.type=s,this.text=a,this.x=l,this.y=u,this.originX=l,this.originY=u,this.width=g,this.height=f,this.ctx=E.ctx,this.color=x,this.fixed=m,this.columns=k,this.column=S,this.dataSource=O,this.stage=E,this.layer=R||this,this.displayText=this.ellipsisText(),this.setEvents(D)}return Object(v.a)(t,[{key:"setEvents",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(i){t.on(i,(function(){e[i](t)}))}))}},{key:"isVisible",value:function(){return this.x>0&&this.x<=this.stage.width||this.y>0&&this.y<=this.stage.height}},{key:"getHeadersHeight",value:function(){return this.stage.getHeaders().reduce((function(t,e){return t+=e.height}),0)}},{key:"getFixedCeilsWidth",value:function(){return this.layer.getCeils().reduce((function(t,e){return e.fixed&&(t+=e.width),t}),0)}},{key:"calculateActualSize",value:function(){if(this.visibleX=this.x,this.visibleY=this.y,this.actualWidth=this.width,this.actualHeight=this.height,!this.fixed){var t=this.getHeadersHeight()-this.y;t>0&&(this.actualHeight=this.height-t,this.visibleY=this.y+t);var e=this.getFixedCeilsWidth()-this.x;e>0&&(this.actualWidth=this.width-e,this.visibleX=this.x+e)}this.stage.height-this.y<this.height&&(this.actualHeight=this.stage.height-this.y),this.stage.width-this.x<this.width&&(this.actualWidth=this.stage.width-this.x)}},{key:"ellipsisText",value:function(){var t=this.text,e=this.ctx.measureText(t).width,i=this.ctx.measureText("...").width,n=this.width-25;if(n<e){for(var r=t.length;e+i>n&&r>0;)t=t.substring(0,r),e=this.ctx.measureText(t).width,r-=1;return t+"..."}return t}},{key:"drawText",value:function(){var t=this.stage.options,e=void 0===t?{}:t;this.ctx.fillStyle=e.color,this.ctx.font=[parseInt(e.fontSize)+"px",e.fontFamily].join(" "),this.ctx.textAlign=e.textAlign,this.ctx.textBaseline="center"===e.textBaseline?"middle":e.textBaseline,this.ctx.fillText(this.displayText,this.x+this.width/2,this.y+this.height/2,this.width)}},{key:"drawImage",value:function(){var t=this;if(this.isVisible()){if(this.image)return void this._drawImage(this.image);var e=new Image;e.src=this.text,e.onload=function(){t.image=e,t._drawImage(t.image)}}}},{key:"_drawImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,i=this.x+(this.width-e)/2,n=this.y+(this.height-e)/2;this.y+this.height/2<this.getHeadersHeight()||this.ctx.drawImage(t,i,n,e,e)}},{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(this.fixed){case"top":this.x=this.originX-t,this.y=this.originY;break;case"left":this.x=this.originX,this.y=this.originY-e;break;case"top,left":this.x=this.originX,this.y=this.originY;break;default:this.x=this.originX-t,this.y=this.originY-e}this.calculateActualSize(),this.trigger("onPositionUpdate")}},{key:"isCurrentElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,height:0,width:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},i=e.x>t.x&&e.x<t.x+t.width,n=e.y>t.y&&e.y<t.y+t.height;return i&&n}},{key:"on",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.split(",").forEach((function(e){t.listeners.set(e.trim(),i)}))}},{key:"off",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.listeners.delete(t)}},{key:"trigger",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];(this.listeners.get(t)||function(){return!1}).apply(void 0,[t,this].concat(i))}}]),t}(),w=i(26),m=i(10),b=i(5),k=function(t){Object(g.a)(i,t);var e=Object(y.a)(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,i),(t=e.call(this,n)).prevCeil=null,t.nextCeil=null,t.children=[],t}return Object(v.a)(i,[{key:"setNeighborCeil",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.prevCeil=t,this.nextCeil=e}},{key:"getPrevCeil",value:function(){return this.prevCeil}},{key:"getNextCeil",value:function(){return this.nextCeil}},{key:"updateValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.text!==t&&(this.text=t,this.displayText=this.ellipsisText(),this.updateDataSource(t),this.stage.render(this.stage.x,this.stage.y))}},{key:"updateDataSource",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dataSource[this.column.key]=t}},{key:"drawBorderRight",value:function(){var t=this.stage.options,e=void 0===t?{}:t;this.ctx.beginPath(),this.ctx.lineWidth=e.borderLineWidth/2,this.ctx.strokeStyle=e.borderColor,this.ctx.moveTo(this.x+this.width,this.y),this.ctx.lineTo(this.x+this.width,this.y+this.height),this.ctx.stroke()}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.updatePosition(t,e),this.drawBackground(),this.drawBorderRight(),this.column.type===a&&this.layer.type===C.LayerType.BODY?Object(m.a)(Object(b.a)(i.prototype),"drawImage",this).call(this):Object(m.a)(Object(b.a)(i.prototype),"drawText",this).call(this)}}]),i}(x),C=function(){function t(e){var i=e.width,n=void 0===i?250:i,r=e.height,s=void 0===r?250:r,o=e.columns,a=void 0===o?[]:o,h=e.options,l=void 0===h?{}:h;Object(d.a)(this,t),this.children=[],this.visibleRange={x:0,y:0};var c=window.devicePixelRatio||1;this.width=n*c,this.height=s*c,this.columns=a,this.options=l,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=n+"px",this.canvas.style.height=s+"px",this.ctx=this.canvas.getContext("2d"),this.ctx.scale(c,c)}return Object(v.a)(t,[{key:"addLayer",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.children=this.children.concat(e),this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.ctx.clearRect(0,0,this.width,this.height),this.getViewportLayers(100).forEach((function(i){i.draw(t,e)}))}},{key:"getHeaders",value:function(){return this.children.filter((function(e){return e.type===t.LayerType.HEADER}))}},{key:"getHeadersHeight",value:function(){return this.getHeaders().reduce((function(t,e){return t+=e.height}),0)}},{key:"getBodys",value:function(){return this.children.filter((function(e){return e.type===t.LayerType.BODY}))}},{key:"getViewportLayers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.getBodys(),n=this.getHeaders(),r=i.findIndex((function(e){return e.y>=0&&e.y<=t.height})),s=i.findIndex((function(e){return e.y>=t.height}));s<0&&(s=this.children.length-1);var o=i.slice(Math.max(0,r-e),Math.min(this.children.length,s+e));return o.concat(n)}},{key:"getCurrentLayer",value:function(e){var i=e.x,n=void 0===i?0:i,r=e.y,s=void 0===r?0:r,o=null,a=this.getViewportLayers();return a.forEach((function(e,i){e.isCurrentElement(e,{x:n,y:s})&&(e.type===t.LayerType.BODY&&e.setNeighborLayer(a[i-1],a[i+1]),o=e)})),o}},{key:"getCurrentCeil",value:function(t){var e=t.x,i=void 0===e?0:e,n=t.y,r=void 0===n?0:n,s=this.getCurrentLayer({x:i,y:r});return s?s.getCurrentCeil({x:i,y:r}):null}},{key:"triggerEventToCeil",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getCurrentCeil(e);n&&(n.trigger(t,i),n.layer.trigger(t,i))}},{key:"setName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return"function"===typeof t?t(e):String(t)}},{key:"setFixedState",value:function(e){var i=e.type,n=void 0===i?"":i,r=e.fixed,s=void 0===r?"":r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(n){case t.LayerType.HEADER:return o?"top,left":s;case t.LayerType.BODY:return o?"left":s;default:return s}}},{key:"createCeils",value:function(e){for(var i=e.layer,n=void 0===i?null:i,r=e.events,s=void 0===r?{}:r,o=e.type,a=void 0===o?t.LayerType.CEIL:o,h=e.name,l=void 0===h?"":h,c=[],u=n.columns,d=n.dataSource,v=0;v<u.length;v++){var g=c.reduce((function(t,e,i){return t+=e.width}),0);c.push(new k({name:this.setName(l,v),type:a,text:d[u[v].key]||u[v].title,x:g,y:n.y,width:u[v].width,height:n.height,stage:this,layer:n,color:n.color,fixed:this.setFixedState(n,u[v].fixed),column:u[v],columns:u,dataSource:n.dataSource,events:s}))}n.add.apply(n,c).draw()}},{key:"createRows",value:function(e){for(var i=e.dataSource,n=void 0===i?[]:i,r=e.columns,s=void 0===r?[]:r,o=e.layerOptions,a=void 0===o?{}:o,h=e.ceilOptions,l=void 0===h?{}:h,c=[],u=a.name,d=void 0===u?"":u,v=a.type,g=void 0===v?t.LayerType.BODY:v,y=a.width,f=void 0===y?100:y,p=a.height,x=void 0===p?45:p,m=a.color,b=void 0===m?"white":m,k=a.x,C=void 0===k?0:k,L=a.y,O=void 0===L?0:L,j=a.events,E=void 0===j?{}:j,T=0;T<n.length;T++){var R=new S({name:this.setName(d,T),type:g,x:C,y:O+T*x,stage:this,width:f,height:x,color:b,columns:s,dataSource:n[T],events:E});this.createCeils(Object(w.a)({layer:R},l)),c.push(R)}return c}},{key:"getDataSource",value:function(){var t=[];return this.children.forEach((function(e){e.dataSource&&Object.keys(e.dataSource).length&&t.push(e.dataSource)})),t}},{key:"insertCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HTMLElement;t.querySelector("canvas")||t.appendChild(this.canvas)}}]),t}();C.LayerType={HEADER:Symbol("header"),BODY:Symbol("body"),CEIL:Symbol("ceil")};var S=function(t){Object(g.a)(i,t);var e=Object(y.a)(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(this,i),(t=e.call(this,n)).prevLayer=null,t.nextLayer=null,t.children=[],t}return Object(v.a)(i,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.children=this.children.concat(e).sort((function(t){return t.column.fixed?1:-1})),this}},{key:"setNeighborLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.prevLayer=t,this.nextLayer=e}},{key:"getPrevLayer",value:function(){return this.prevLayer}},{key:"getNextLayer",value:function(){return this.nextLayer}},{key:"getCeils",value:function(){return this.children}},{key:"getCurrentCeil",value:function(t){var e=this,i=t.x,n=void 0===i?0:i,r=t.y,s=void 0===r?0:r,o=null;return this.children.forEach((function(t,i){t.isCurrentElement(t,{x:n,y:s})&&(t.setNeighborCeil(e.children[i+1],e.children[i-1]),o=t)})),o}},{key:"drawLine",value:function(){var t=this.stage.options,e=void 0===t?{}:t;this.ctx.beginPath(),this.ctx.lineWidth=e.borderLineWidth,this.ctx.strokeStyle=e.borderColor,this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(this.x+this.width,this.y),this.ctx.stroke()}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height)}},{key:"getFixedCeils",value:function(){return this.children.filter((function(t){return t.fixed&&t.fixed.includes("left")}))}},{key:"getUnfixedCeils",value:function(){return this.children.filter((function(t){return!t.fixed||t.fixed&&!t.fixed.includes("left")}))}},{key:"getViewportCeils",value:function(){var t=this,e=this.getUnfixedCeils().sort((function(t,e){return t.x-e.x})),i=e.findIndex((function(t){return t.x>=0})),n=e.findIndex((function(e){return e.x+e.width>=t.stage.width}));n<0&&(n=e.length-1);var r=n-i;return e.slice(Math.max(0,i-5*r),Math.min(e.length,n+5*r)).concat(this.getFixedCeils())}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.updatePosition(t,e),(this.isVisible()||this.type===C.LayerType.HEADER)&&(this.drawLine(),this.getViewportCeils(),this.getViewportCeils().forEach((function(i){i.draw(t,e)})))}}]),i}(x),L=i(0),O=function(t){Object(g.a)(i,t);var e=Object(y.a)(i);function i(t){var r;return Object(d.a)(this,i),(r=e.call(this,t)).listeners=new Map,r.handleScroll=p.a.throttle((function(t){var e=t.target,i=e.scrollTop,n=e.scrollLeft,s=r.props,o=s.onScrollToTop,a=void 0===o?function(){}:o,h=s.onScrollToBottom,l=void 0===h?function(){}:h;r.stage.render(n,i),0===i&&a(),r.scrollEndRef.getBoundingClientRect().bottom-t.target.getBoundingClientRect().bottom===0&&l()}),0),r.handleMouseMove=p.a.debounce((function(t){var e=t.target.getBoundingClientRect(),i=e.left,n=e.top,s=t.clientX-i,o=t.clientY-n,h=r.stage.getCurrentCeil({x:s,y:o});if(h)switch(h.layer.type){case C.LayerType.HEADER:r.wrapperRef.style.cursor="auto";break;case C.LayerType.BODY:h.column.type===a?r.wrapperRef.style.cursor="pointer":h.column.type===l?r.wrapperRef.style.cursor="text":r.wrapperRef.style.cursor="auto";break;default:r.wrapperRef.style.cursor="auto"}}),50),r.handleMouseEnter=p.a.debounce((function(t){}),100),r.handleMouseOut=p.a.debounce((function(t){r.wrapperRef.style.cursor="auto"}),100),r.wrapperRef=Object(n.createRef)(),r.inputLayerRef=Object(n.createRef)(),r.scrollEndRef=Object(n.createRef)(),r.columns=t.columns,r.dataSource=t.dataSource,r.width=650,r.height=450,r.stage=new C({width:r.width,height:r.height,columns:t.columns,options:t.options||{}}),r.state={inputLayerStyle:{},inputLayerVisibleState:!1,currentText:"",scrollEndPosition:{top:0,left:0},currentCeil:null},r}return Object(v.a)(i,[{key:"componentDidMount",value:function(){var t,e=this,i=this.stage.options,n=new S({type:C.LayerType.HEADER,x:0,y:0,stage:this.stage,width:this._getTotalWidth(),height:i.rowHeight,color:i.header.backgroundColor,fixed:"top",columns:this.columns});this.stage.insertCanvas(this.wrapperRef),this.stage.createCeils({layer:n});var r=this.stage.createRows({dataSource:this.dataSource,columns:this.columns,layerOptions:{type:C.LayerType.BODY,width:this._getTotalWidth(),y:this.stage.getHeadersHeight(),color:i.body.backgroundColor},ceilOptions:{events:{onClick:this.handleCeilClick.bind(this),onPositionUpdate:this.handleCeilScroll.bind(this)}}});(t=this.stage).addLayer.apply(t,[n].concat(Object(u.a)(r))),this.setState({scrollEndPosition:{top:this.stage.children.length*i.rowHeight,left:this._getTotalWidth()-this.width/2+5}}),this.listeners.set("detectResize",this.detectResize((function(){e.stage.render(e.stage.x,e.stage.y)})))}},{key:"componentWillUnmount",value:function(){this.listeners.forEach((function(t){"function"===typeof t&&t()}))}},{key:"detectResize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=p.a.throttle(t,e),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}},{key:"_getTotalWidth",value:function(){var t=0;return this.columns.forEach((function(e){t+=e.width})),t}},{key:"handleCeilClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dataSource,i=void 0===e?{}:e,n=t.image,r=t.column,s=void 0===r?{}:r;switch(s.type){case a:document.body.querySelectorAll("img").forEach((function(t){t.remove()})),document.body.appendChild(n),alert("click on ".concat(i.name,"'s avatar"));break;case l:this.updateInputLayer(t),this.setState({currentCeil:t});break;case h:alert("Functions up comming...")}console.log("click on ceil: ",t)}},{key:"handleCeilScroll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.state.inputLayerVisibleState;e&&this.updateInputLayer(t,!1)}},{key:"updateInputLayer",value:function(t){var e=this,i=t.actualWidth,n=void 0===i?0:i,r=t.actualHeight,s=void 0===r?0:r,o=t.visibleX,a=void 0===o?0:o,h=t.visibleY,l=void 0===h?0:h,c=t.text,u=void 0===c?"":c,d=t.color,v=void 0===d?"orange":d,g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({inputLayerStyle:{display:g?"inline-block":"none",width:n,height:s,top:l,left:a,zIndex:1,background:v},currentText:u,inputLayerVisibleState:g}),g&&setTimeout((function(){e.inputLayerRef.focus()}))}},{key:"handleClick",value:function(t){var e=t.target.getBoundingClientRect(),i=e.left,n=e.top,r=t.clientX-i,s=t.clientY-n;this.stage.triggerEventToCeil("onClick",{x:r,y:s},{x:r,y:s})}},{key:"handleDoubleClick",value:function(){console.log("handleDoubleClick")}},{key:"handleContextMenu",value:function(t){console.log("handleContextMenu"),t.preventDefault(),t.stopPropagation()}},{key:"handleBlur",value:function(){this.updateInputLayer({},!1)}},{key:"handleUpdateCeilData",value:function(t){this.state.currentCeil.updateValue(this.inputLayerRef.textContent)}},{key:"render",value:function(){var t=this,e=this.state,i=e.inputLayerStyle,n=e.currentText,r=e.scrollEndPosition;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"wrapper",ref:function(e){return t.wrapperRef=e},onClick:this.handleClick.bind(this),onBlur:this.handleBlur.bind(this),onDoubleClick:this.handleDoubleClick.bind(this),onContextMenu:this.handleContextMenu.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseOut:this.handleMouseOut.bind(this),children:Object(L.jsx)("div",{className:"wrapper-scroll",children:Object(L.jsxs)("div",{className:"wrapper-scroll-inner",style:{width:this.width+10,height:this.height+10},onScroll:this.handleScroll.bind(this),children:[Object(L.jsx)("div",{className:"wrapper-scroll-end",ref:function(e){return t.scrollEndRef=e},style:r}),Object(L.jsx)("div",{className:"input-placeholder",ref:function(e){return t.inputLayerRef=e},style:i,onClick:function(t){t.preventDefault(),t.stopPropagation()},onBlur:this.handleUpdateCeilData.bind(this),contentEditable:!0,suppressContentEditableWarning:!0,children:n})]})})}),Object(L.jsx)("br",{})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return null}}]),i}(n.Component),j=i(4),E=i.n(j),T=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=0;i<e;i++)t.push({id:""+i,avatar:E.a.image.avatar(),province:E.a.address.state(),city:E.a.address.city(),name:E.a.name.findName(),zipcode:E.a.address.zipCode(),age:""+E.a.datatype.number(100),description:E.a.lorem.sentence(),address:E.a.address.streetAddress()});return t}([]);var R=function(){var t=Object(n.createRef)();return Object(n.useEffect)((function(){window.GoInstanceWorker.addEventListener("message",(function(t){var e=t.data,i=void 0===e?{}:e,n=i.type,r=i.message;"getCsv"!==n&&"getExcel"!==n||!r||setTimeout((function(){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=document.createElement("a");i.href=t,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(t)}(r.url,r.filename)}))}))})),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(O,{ref:function(e){return t=e},columns:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.filter((function(t){return t.fixed}));return e.concat(t.filter((function(t){return!t.fixed})))}(c),dataSource:T,onScrollToTop:function(){console.log("to the top")},onScrollToBottom:function(){console.log("to the bottom")},options:{borderLineWidth:1,borderColor:"#FFFFFF",rowHeight:45,fontFamily:"sans-serif",textAlign:"center",textBaseline:"center",fontSize:16,color:"#000000",header:{backgroundColor:"#ffa500"},body:{backgroundColor:"#008000"}}}),Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{style:{marginRight:15},onClick:function(){var e=window.prompt("Please enter filename!","test");window.GoInstanceWorker.postMessage({type:"getCsv",message:{dataSource:t.stage.getDataSource(),filename:e}})},children:"export dataSource to csv file"}),Object(L.jsx)("button",{onClick:function(){var e=window.prompt("Please enter filename!","test");window.GoInstanceWorker.postMessage({type:"getExcel",message:{dataSource:t.stage.getDataSource(),filename:e,columns:t.stage.columns,tableOptions:t.stage.options}})},children:"export dataSource to excel file"})]})]})},B=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,1525)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,o=e.getTTFB;i(t),n(t),r(t),s(t),o(t)}))};o.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(R,{})}),document.getElementById("root")),B()},31:function(t,e,i){},32:function(t,e,i){}},[[1524,1,2]]]);
//# sourceMappingURL=main.785cca43.chunk.js.map
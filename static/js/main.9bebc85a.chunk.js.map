{"version":3,"sources":["components/Base.js","components/Ceil.js","components/Layer.js","components/Stage.js","components/Container.js","mock.js","App.js","reportWebVitals.js","index.js"],"names":["Base","name","text","x","y","width","height","color","fixed","columns","column","dataSource","stage","layer","onFocus","onScroll","this","originX","originY","ctx","listeners","Map","displayText","ellipsisText","image","measureText","ellipsisWidth","maxWidth","len","length","substring","fillStyle","font","textAlign","textBaseline","fillText","_drawImage","img","Image","src","onload","size","drawImage","type","args","currentElement","children","forEach","elment","isCurrentElement","trigger","parent","draw","element","position","isInX","isInY","names","callback","split","set","trim","delete","get","Ceil","props","on","console","log","update","fillRect","strokeStyle","lineWidth","strokeRect","setEvent","Layer","elments","concat","reverse","setParent","commonTrigger","bind","updatePosition","Stage","ratio","window","devicePixelRatio","canvas","document","createElement","style","getContext","scale","layers","render","save","clearRect","restore","wrapper","HTMLElement","querySelector","appendChild","Container","handleScroll","_","throttle","e","target","scrollTop","scrollLeft","createRef","inputLayer","state","inputLayerStyle","inputLayerVisibleState","currentText","headerRow","_getTotalWidth","bodyRows","insertCanvas","_createCeil","i","bodyRow","row","push","addLayer","col","self","ceils","reduce","prev","curv","key","title","body","querySelectorAll","remove","alert","updateInputLayer","call","add","show","setState","display","top","left","zIndex","background","setTimeout","focus","event","getBoundingClientRect","clientX","clientY","currentLayer","preventDefault","stopPropagation","_getTotalHeight","className","ref","el","onClick","handleClick","onBlur","handleBlur","onDoubleClick","handleDoubleClick","onContextMenu","handleContextMenu","onMouseMove","handleMouseMove","calculateScrollEndPosition","contentEditable","suppressContentEditableWarning","Component","output","id","avatar","faker","province","address","city","findName","zipcode","zipCode","age","datatype","number","description","lorem","sentence","streetAddress","App","ouput","filter","sortFixedColumns","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9bebc85a.chunk.js","sourcesContent":["export default class Base {\n  constructor({\n    name = \"\",\n    text = \"\",\n    x = 0,\n    y = 0,\n    width = 100,\n    height = 45,\n    color = \"yellow\",\n    fixed = \"\",\n    columns = [],\n    column = {},\n    dataSource = {},\n    stage = {},\n    layer = null,\n    onFocus = function () {},\n    onScroll = function () {},\n  }) {\n    this.name = name;\n    this.text = text;\n    this.x = x;\n    this.y = y;\n    this.originX = x;\n    this.originY = y;\n    this.width = width;\n    this.height = height;\n    this.ctx = stage.ctx;\n    this.color = color;\n    this.fixed = fixed;\n    this.columns = columns;\n    this.column = column;\n    this.dataSource = dataSource;\n    this.onFocus = onFocus;\n    this.onScroll = onScroll;\n    this.stage = stage;\n    this.layer = layer || this;\n    this.listeners = new Map();\n    this.displayText = this.ellipsisText();\n    this.image = null;\n  }\n  ellipsisText() {\n    let displayText = this.text;\n    let ellipsis = \"...\";\n    let width = this.ctx.measureText(displayText).width;\n    let ellipsisWidth = this.ctx.measureText(ellipsis).width;\n    const maxWidth = this.width - 25;\n    if (maxWidth < width) {\n      let len = displayText.length;\n      while (width + ellipsisWidth > maxWidth && len > 0) {\n        displayText = displayText.substring(0, len);\n        width = this.ctx.measureText(displayText).width;\n        len -= 1;\n      }\n      return displayText + ellipsis;\n    }\n    return displayText;\n  }\n  drawText() {\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.fillText(\n      this.displayText,\n      this.x + this.width / 2,\n      this.y + this.height / 2,\n      this.width,\n    );\n  }\n\n  drawImage() {\n    //垂直可见\n    if (this.stage.height + this.stage.height / 2 >= this.y && this.y >= 0) {\n      if (this.image) {\n        this._drawImage(this.image);\n        return;\n      }\n      const img = new Image();\n      img.src = this.text;\n      img.onload = () => {\n        this.image = img;\n        this._drawImage(this.image);\n      };\n    }\n  }\n  _drawImage(image, size = 35) {\n    this.ctx.drawImage(\n      image,\n      this.x + (this.width - size) / 2,\n      this.y + (this.height - size) / 2,\n      size,\n      size,\n    );\n  }\n  commonTrigger(type = \"\", args = {}) {\n    let currentElement = null;\n    this.children.forEach((elment) => {\n      elment.isCurrentElement(elment, args) && (currentElement = elment);\n    });\n    currentElement && currentElement.trigger(type, args);\n  }\n  update({\n    x = this.x,\n    y = this.y,\n    width = this.width,\n    height = this.height,\n    color = this.color,\n  }) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.color = color;\n    this.parent && this.parent.draw();\n  }\n  updatePosition(x = 0, y = 0) {\n    switch (this.fixed) {\n      case \"top\":\n        this.x = this.originX - x;\n        this.y = this.originY;\n        break;\n      case \"left\":\n        this.x = this.originX;\n        this.y = this.originY - y;\n        break;\n      case \"top,left\":\n        this.x = this.originX;\n        this.y = this.originY;\n        break;\n      default:\n        this.x = this.originX - x;\n        this.y = this.originY - y;\n    }\n    this.onScroll(this);\n  }\n  setParent(parent = null) {\n    this.parent = parent;\n  }\n  isCurrentElement(\n    element = { x: 0, y: 0, height: 0, width: 0 },\n    position = { x: 0, y: 0 },\n  ) {\n    let isInX =\n      position.x > element.x && position.x < element.x + element.width;\n    let isInY =\n      position.y > element.y && position.y < element.y + element.height;\n    return isInX && isInY;\n  }\n  on(names = \"\", callback = function () {}) {\n    names.split(\",\").forEach((name) => {\n      this.listeners.set(name.trim(), callback);\n    });\n  }\n  off(name = \"\") {\n    this.listeners.delete(name);\n  }\n  trigger(name = \"\", ...args) {\n    (\n      this.listeners.get(name) ||\n      function () {\n        return false;\n      }\n    )(name, ...args);\n  }\n}\n","import Base from \"./Base\";\nexport default class Ceil extends Base {\n  constructor(props = {}) {\n    super(props);\n  }\n  setEvent() {\n    this.on(\"click\", (event = \"\", args = {}) => {\n      console.log(\"click on ceil\", this);\n      this.onFocus(this);\n    });\n    this.on(\"move\", (event = \"\", args = { x: 0, y: 0 }) => {\n      console.log(\"move...\", args);\n      this.update(args);\n    });\n    this.on(\"hover\", (event = \"\", args = { x: 0, y: 0 }) => {\n      console.log(\"hover...\", args);\n    });\n  }\n\n  draw(x = 0, y = 0) {\n    this.ctx.fillStyle = this.color;\n    this.ctx.fillRect(this.x, this.y, this.width, this.height);\n    this.ctx.strokeStyle = \"white\";\n    this.ctx.lineWidth = 0.5;\n    this.ctx.strokeRect(this.x, this.y, this.width, this.height);\n    if (this.column.type === \"image\" && this.parent.name === \"body\") {\n      super.drawImage();\n    } else {\n      super.drawText();\n    }\n    this.setEvent();\n  }\n}\n","import Base from \"./Base\";\n\nexport default class Layer extends Base {\n  constructor(props = {}) {\n    super(props);\n    this.children = [];\n  }\n  add(...elments) {\n    this.children = this.children.concat(elments).reverse();\n    this.children.forEach((elment) => {\n      elment.setParent(this);\n    });\n    this.draw();\n    return this;\n  }\n  setEvent() {\n    this.on(\"click,move\", this.commonTrigger.bind(this));\n    this.on(\"hover\", this.commonTrigger.bind(this));\n  }\n  draw(x = 0, y = 0) {\n    this.ctx.fillStyle = this.color;\n    this.ctx.fillRect(this.x, this.y, this.width, this.height);\n    this.children.forEach((elment) => {\n      elment.updatePosition(x, y);\n      elment.draw(x, y);\n    });\n    this.setEvent();\n  }\n}\n","export default class Stage {\n  constructor({ width = 250, height = 250 }) {\n    let ratio = window.devicePixelRatio || 1;\n    this.width = width * ratio;\n    this.height = height * ratio;\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.width = width + \"px\";\n    this.canvas.style.height = height + \"px\";\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.children = [];\n    this.ctx.scale(ratio, ratio);\n  }\n  addLayer(...layers) {\n    this.children = this.children.concat(layers).reverse();\n    this.render();\n    return this;\n  }\n  render(x = 0, y = 0) {\n    this.ctx.save();\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.children.forEach((layer) => {\n      !layer.parent && layer.setParent(this);\n      layer.updatePosition(x, y);\n      layer.draw(x, y);\n    });\n    this.ctx.restore();\n  }\n  insertCanvas(wrapper = HTMLElement) {\n    if (!wrapper.querySelector(\"canvas\")) {\n      wrapper.appendChild(this.canvas);\n    }\n  }\n}\n","import _ from \"lodash\";\nimport { Component, createRef } from \"react\";\nimport Ceil from \"./Ceil\";\nimport Layer from \"./Layer\";\nimport Stage from \"./Stage\";\n\nexport default class Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.wrapper = createRef();\n    this.inputLayer = createRef();\n    this.columns = props.columns;\n    this.dataSource = props.dataSource;\n    this.width = 650;\n    this.height = 450;\n    this.stage = new Stage({\n      width: this.width,\n      height: this.height,\n    });\n    this.state = {\n      inputLayerStyle: {},\n      inputLayerVisibleState: false,\n      currentText: \"\",\n    };\n  }\n  componentDidMount() {\n    const headerRow = new Layer({\n      name: \"header\",\n      x: 0,\n      y: 0,\n      stage: this.stage,\n      width: this._getTotalWidth(),\n      height: 45,\n      color: \"white\",\n      fixed: \"top\",\n      columns: this.columns,\n      dataSource: {},\n    });\n    let bodyRows = [];\n    this.stage.insertCanvas(this.wrapper);\n\n    this._createCeil({\n      layer: headerRow,\n      color: \"orange\",\n    });\n    for (let i = 0; i < this.dataSource.length; i++) {\n      let bodyRow = new Layer({\n        name: \"body\",\n        x: 0,\n        y: 45 + i * 46,\n        stage: this.stage,\n        width: this._getTotalWidth(),\n        height: 45,\n        color: \"white\",\n        columns: this.columns,\n        dataSource: this.dataSource[i],\n      });\n      this._createCeil({\n        y: bodyRow.y,\n        layer: bodyRow,\n        row: i,\n      });\n      bodyRows.push(bodyRow);\n    }\n    this.stage.addLayer(headerRow, ...bodyRows);\n  }\n  _getTotalWidth() {\n    let width = 0;\n    this.columns.forEach((col) => {\n      width += col.width;\n    });\n    return width;\n  }\n  _getTotalHeight() {\n    return this.dataSource.length * 45;\n  }\n  _createCeil({ y = 0, layer = null, color = \"green\", row = 0 }) {\n    const self = this;\n    let ceils = [];\n    let fixed = \"\";\n    const columns = layer.columns;\n    const dataSource = layer.dataSource;\n    for (let i = 0; i < columns.length; i++) {\n      let x = ceils.reduce((prev, curv, i) => {\n        prev += curv.width;\n        return prev;\n      }, 0);\n\n      if (layer.name === \"body\" && columns[i].fixed) {\n        fixed = \"left\";\n      } else if (layer.name === \"header\" && columns[i].fixed) {\n        fixed = \"top,left\";\n      } else {\n        fixed = layer.fixed;\n      }\n      ceils.push(\n        new Ceil({\n          name: `列${i}-行${row}`,\n          text: dataSource[columns[i].key] || columns[i].title,\n          x: x,\n          y: y,\n          width: columns[i].width,\n          height: 45,\n          stage: this.stage,\n          layer: layer,\n          color: color,\n          fixed: fixed,\n          column: columns[i],\n          columns: columns,\n          dataSource: dataSource,\n          onFocus: function ({ dataSource = {}, image }) {\n            if (columns[i].type === \"image\") {\n              document.body.querySelectorAll(\"img\").forEach((img) => {\n                img.remove();\n              });\n              document.body.appendChild(image);\n              alert(`click on ${dataSource.name}'s avatar`);\n            } else {\n              self.updateInputLayer.call(self, this);\n            }\n          },\n          onScroll: function () {\n            const { inputLayerVisibleState } = self.state;\n            inputLayerVisibleState &&\n              self.updateInputLayer.call(self, this, false);\n          },\n        }),\n      );\n    }\n    layer.add(...ceils);\n  }\n  updateInputLayer(\n    { width = 0, height = 0, x = 0, y = 0, text = \"\", color = \"orange\" },\n    show = true,\n  ) {\n    this.setState({\n      inputLayerStyle: {\n        display: show ? \"inline-block\" : \"none\",\n        width: width,\n        height: height,\n        top: y,\n        left: x,\n        zIndex: 1,\n        background: color,\n      },\n      currentText: text,\n      inputLayerVisibleState: show,\n    });\n    if (show) {\n      setTimeout(() => {\n        this.inputLayer.focus();\n      });\n    }\n  }\n  handleScroll = _.throttle((e) => {\n    const { scrollTop, scrollLeft } = e.target;\n    this.stage.render(scrollLeft, scrollTop);\n  }, 10);\n  commonTrigger(event = \"\", e) {\n    const { left, top } = e.target.getBoundingClientRect();\n    const x = e.clientX - left,\n      y = e.clientY - top;\n    let currentLayer = null;\n    this.stage.children.forEach((layer) => {\n      layer.isCurrentElement(layer, { x, y }) && (currentLayer = layer);\n    });\n    currentLayer && currentLayer.trigger(event, { x, y });\n  }\n  handleClick(e) {\n    this.commonTrigger(\"click\", e);\n  }\n  handleDoubleClick() {\n    console.log(\"handleDoubleClick\");\n  }\n  handleContextMenu(e) {\n    console.log(\"handleContextMenu\");\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  handleBlur() {\n    this.updateInputLayer({}, false);\n  }\n  handleMouseMove(e) {\n    // this.commonTrigger(\"hover\", e);\n  }\n  calculateScrollEndPosition() {\n    return {\n      top: this._getTotalHeight() + 40 + this.dataSource.length,\n      left: this._getTotalWidth() - this.width / 2 + 5, //- (this._getTotalWidth() % this.stage.width) - 13,\n    };\n  }\n  render() {\n    const { inputLayerStyle, currentText } = this.state;\n    return (\n      <div\n        className=\"wrapper\"\n        ref={(el) => (this.wrapper = el)}\n        onClick={this.handleClick.bind(this)}\n        onBlur={this.handleBlur.bind(this)}\n        onDoubleClick={this.handleDoubleClick.bind(this)}\n        onContextMenu={this.handleContextMenu.bind(this)}\n        onMouseMove={this.handleMouseMove.bind(this)}\n      >\n        <div className=\"wrapper-scroll\">\n          <div\n            className=\"wrapper-scroll-inner\"\n            style={{\n              width: this.width + 10,\n              height: this.height + 10,\n            }}\n            onScroll={this.handleScroll.bind(this)}\n          >\n            <div\n              className=\"wrapper-scroll-end\"\n              style={this.calculateScrollEndPosition()}\n            ></div>\n            <div\n              className=\"input-placeholder\"\n              ref={(el) => (this.inputLayer = el)}\n              style={inputLayerStyle}\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n              }}\n              contentEditable={true}\n              suppressContentEditableWarning={true}\n            >\n              {currentText}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import faker from \"faker\";\n\nexport const columns = [\n  {\n    title: \"No.\",\n    width: 100,\n    key: \"id\",\n    fixed: true,\n  },\n  {\n    title: \"Avatar\",\n    width: 100,\n    type: \"image\",\n    key: \"avatar\",\n    fixed: true,\n  },\n  {\n    title: \"Name\",\n    width: 120,\n    key: \"name\",\n    fixed: true,\n  },\n  {\n    title: \"Age\",\n    width: 100,\n    key: \"age\",\n  },\n  {\n    title: \"Province\",\n    width: 100,\n    key: \"province\",\n  },\n  {\n    title: \"City\",\n    width: 120,\n    key: \"city\",\n  },\n  {\n    title: \"Address\",\n    width: 200,\n    key: \"address\",\n  },\n  {\n    title: \"ZipCode\",\n    width: 100,\n    key: \"zipcode\",\n  },\n  {\n    title: \"Description\",\n    width: 250,\n    key: \"description\",\n  },\n  {\n    title: \"Action\",\n    width: 100,\n    key: \"action\",\n  },\n];\n\nexport const dataSource = (function (size = 50) {\n  let output = [];\n  for (let i = 0; i < size; i++) {\n    output.push({\n      id: \"\" + i, // faker.datatype.uuid(),\n      avatar: faker.image.avatar(),\n      province: faker.address.state(),\n      city: faker.address.city(),\n      name: faker.name.findName(),\n      zipcode: faker.address.zipCode(),\n      age: faker.datatype.number(100),\n      description: faker.lorem.sentence(),\n      address: faker.address.streetAddress(),\n    });\n  }\n  return output;\n})(1000);\n","import \"./App.css\";\nimport Container from \"./components/Container\";\nimport { columns, dataSource } from \"./mock\";\n\nfunction App() {\n  const sortFixedColumns = function (columns = []) {\n    let ouput = columns.filter((col) => col.fixed);\n    return ouput.concat(columns.filter((col) => !col.fixed));\n  };\n  return (\n    <Container columns={sortFixedColumns(columns)} dataSource={dataSource} />\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
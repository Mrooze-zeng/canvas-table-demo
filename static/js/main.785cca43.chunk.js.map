{"version":3,"sources":["columns.js","components/Base.js","components/Ceil.js","components/Stage.js","components/Layer.js","components/Container.js","mock.js","App.js","utils/index.js","reportWebVitals.js","index.js"],"names":["COLUMN_TYPE","columns","title","width","type","key","fixed","Base","name","text","x","y","height","color","column","dataSource","stage","layer","events","image","listeners","Map","visibleX","visibleY","actualWidth","actualHeight","this","originX","originY","ctx","displayText","ellipsisText","setEvents","Object","keys","forEach","on","getHeaders","reduce","header","getCeils","ceil","heightDiff","getHeadersHeight","widthDiff","getFixedCeilsWidth","measureText","ellipsisWidth","maxWidth","len","length","substring","options","fillStyle","font","parseInt","fontSize","fontFamily","join","textAlign","textBaseline","fillText","isVisible","_drawImage","img","Image","src","onload","size","drawImage","calculateActualSize","trigger","element","position","isInX","isInY","names","callback","split","set","trim","delete","args","get","Ceil","props","prevCeil","nextCeil","children","prev","next","value","updateDataSource","render","beginPath","lineWidth","borderLineWidth","strokeStyle","borderColor","moveTo","lineTo","stroke","fillRect","updatePosition","drawBackground","drawBorderRight","Stage","LayerType","BODY","visibleRange","ratio","window","devicePixelRatio","canvas","document","createElement","style","getContext","scale","layers","concat","clearRect","getViewportLayers","draw","filter","HEADER","allBodyLayer","getBodys","headerLayer","firstLayerIndex","findIndex","lastLayerIndex","output","slice","Math","max","min","currentLayer","viewportLayers","index","isCurrentElement","setNeighborLayer","getCurrentLayer","getCurrentCeil","event","data","String","isFixed","CEIL","ceils","i","curv","push","setName","setFixedState","add","layerOptions","ceilOptions","rows","row","Layer","createCeils","wrapper","HTMLElement","querySelector","appendChild","Symbol","prevLayer","nextLayer","elments","sort","elment","currentElement","setNeighborCeil","includes","unfixedCeils","getUnfixedCeils","a","b","firstCeilIndex","lastCeilIndex","getFixedCeils","drawLine","getViewportCeils","Container","handleScroll","_","throttle","e","target","scrollTop","scrollLeft","onScrollToTop","onScrollToBottom","scrollEndRef","getBoundingClientRect","bottom","handleMouseMove","debounce","left","top","clientX","clientY","currentCeil","wrapperRef","cursor","handleMouseEnter","handleMouseOut","createRef","inputLayerRef","state","inputLayerStyle","inputLayerVisibleState","currentText","scrollEndPosition","headerRow","_getTotalWidth","rowHeight","backgroundColor","insertCanvas","bodyRows","createRows","body","onClick","handleCeilClick","bind","onPositionUpdate","handleCeilScroll","addLayer","setState","detectResize","listener","action","delay","addEventListener","removeEventListener","col","querySelectorAll","remove","alert","updateInputLayer","console","log","show","display","zIndex","background","setTimeout","focus","triggerEventToCeil","preventDefault","stopPropagation","updateValue","textContent","className","ref","el","handleClick","onBlur","handleBlur","onDoubleClick","handleDoubleClick","onContextMenu","handleContextMenu","onMouseMove","onMouseEnter","onMouseOut","onScroll","handleUpdateCeilData","contentEditable","suppressContentEditableWarning","Component","source","id","avatar","faker","province","address","city","findName","zipcode","zipCode","age","datatype","number","description","lorem","sentence","streetAddress","dataSourceCreator","App","cantainerRef","useEffect","GoInstanceWorker","message","url","filename","link","href","download","click","URL","revokeObjectURL","createDownloadLink","ouput","sortFixedColumns","marginRight","prompt","postMessage","getDataSource","tableOptions","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.785cca43.chunk.js","sourcesContent":["export const COLUMN_TYPE = {\n  IMAGE: 0,\n  TEXT: 1,\n  FUNCTION_BOX: 2,\n  EDITABLE: 3,\n};\n\nexport const columns = [\n  {\n    title: \"No.\",\n    width: 100,\n    type: COLUMN_TYPE.TEXT,\n    key: \"id\",\n    fixed: true,\n  },\n  {\n    title: \"Avatar\",\n    width: 100,\n    type: COLUMN_TYPE.IMAGE,\n    key: \"avatar\",\n    fixed: true,\n  },\n  {\n    title: \"Name\",\n    width: 120,\n    type: COLUMN_TYPE.EDITABLE,\n    key: \"name\",\n    fixed: true,\n  },\n  {\n    title: \"Age\",\n    width: 100,\n    key: \"age\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"Province\",\n    width: 100,\n    key: \"province\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"City\",\n    width: 120,\n    key: \"city\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"Address\",\n    width: 200,\n    key: \"address\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"ZipCode\",\n    width: 100,\n    key: \"zipcode\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"Description\",\n    width: 250,\n    key: \"description\",\n    type: COLUMN_TYPE.EDITABLE,\n  },\n  {\n    title: \"Action\",\n    width: 100,\n    key: \"action\",\n    type: COLUMN_TYPE.FUNCTION_BOX,\n  },\n];\n","export default class Base {\n  image = null;\n  listeners = new Map();\n  visibleX = 0;\n  visibleY = 0;\n  actualWidth = 0;\n  actualHeight = 0;\n  constructor({\n    name = \"\",\n    type = \"\",\n    text = \"\",\n    x = 0,\n    y = 0,\n    width = 100,\n    height = 45,\n    color = \"yellow\",\n    fixed = \"\",\n    columns = [],\n    column = {},\n    dataSource = {},\n    stage = {},\n    layer = null,\n    events = {},\n  }) {\n    this.name = name;\n    this.type = type;\n    this.text = text;\n    this.x = x;\n    this.y = y;\n    this.originX = x;\n    this.originY = y;\n    this.width = width;\n    this.height = height;\n    this.ctx = stage.ctx;\n    this.color = color;\n    this.fixed = fixed;\n    this.columns = columns;\n    this.column = column;\n    this.dataSource = dataSource;\n    this.stage = stage;\n    this.layer = layer || this;\n    this.displayText = this.ellipsisText();\n    this.setEvents(events);\n  }\n  setEvents(events = {}) {\n    Object.keys(events).forEach((name) => {\n      this.on(name, () => {\n        events[name](this);\n      });\n    });\n  }\n  isVisible() {\n    return (\n      (this.x > 0 && this.x <= this.stage.width) ||\n      (this.y > 0 && this.y <= this.stage.height)\n    );\n  }\n  getHeadersHeight() {\n    const headers = this.stage.getHeaders();\n    return headers.reduce((height, header) => {\n      height += header.height;\n      return height;\n    }, 0);\n  }\n  getFixedCeilsWidth() {\n    const ceils = this.layer.getCeils();\n    return ceils.reduce((width, ceil) => {\n      if (ceil.fixed) {\n        width += ceil.width;\n      }\n      return width;\n    }, 0);\n  }\n  calculateActualSize() {\n    this.visibleX = this.x;\n    this.visibleY = this.y;\n    this.actualWidth = this.width;\n    this.actualHeight = this.height;\n    if (!this.fixed) {\n      //height\n      const headersHeight = this.getHeadersHeight();\n      const heightDiff = headersHeight - this.y;\n      if (heightDiff > 0) {\n        this.actualHeight = this.height - heightDiff;\n        this.visibleY = this.y + heightDiff;\n      }\n\n      //width\n      const fixedCeilsWidth = this.getFixedCeilsWidth();\n      const widthDiff = fixedCeilsWidth - this.x;\n      if (widthDiff > 0) {\n        this.actualWidth = this.width - widthDiff;\n        this.visibleX = this.x + widthDiff;\n      }\n    }\n    if (this.stage.height - this.y < this.height) {\n      this.actualHeight = this.stage.height - this.y;\n    }\n    if (this.stage.width - this.x < this.width) {\n      this.actualWidth = this.stage.width - this.x;\n    }\n  }\n  ellipsisText() {\n    let displayText = this.text;\n    let ellipsis = \"...\";\n    let width = this.ctx.measureText(displayText).width;\n    let ellipsisWidth = this.ctx.measureText(ellipsis).width;\n    const maxWidth = this.width - 25;\n    if (maxWidth < width) {\n      let len = displayText.length;\n      while (width + ellipsisWidth > maxWidth && len > 0) {\n        displayText = displayText.substring(0, len);\n        width = this.ctx.measureText(displayText).width;\n        len -= 1;\n      }\n      return displayText + ellipsis;\n    }\n    return displayText;\n  }\n  drawText() {\n    const { options = {} } = this.stage;\n    this.ctx.fillStyle = options.color;\n    this.ctx.font = [\n      parseInt(options.fontSize) + \"px\",\n      options.fontFamily,\n    ].join(\" \");\n    this.ctx.textAlign = options.textAlign;\n    this.ctx.textBaseline =\n      options.textBaseline === \"center\" ? \"middle\" : options.textBaseline;\n    this.ctx.fillText(\n      this.displayText,\n      this.x + this.width / 2,\n      this.y + this.height / 2,\n      this.width,\n    );\n  }\n\n  drawImage() {\n    //垂直可见\n    if (this.isVisible()) {\n      if (this.image) {\n        this._drawImage(this.image);\n        return;\n      }\n      const img = new Image();\n      img.src = this.text;\n      img.onload = () => {\n        this.image = img;\n        this._drawImage(this.image);\n      };\n    }\n  }\n  _drawImage(image, size = 35) {\n    let x = this.x + (this.width - size) / 2;\n    let y = this.y + (this.height - size) / 2;\n    if (this.y + this.height / 2 < this.getHeadersHeight()) {\n      return;\n    }\n    this.ctx.drawImage(image, x, y, size, size);\n  }\n  updatePosition(x = 0, y = 0) {\n    switch (this.fixed) {\n      case \"top\":\n        this.x = this.originX - x;\n        this.y = this.originY;\n        break;\n      case \"left\":\n        this.x = this.originX;\n        this.y = this.originY - y;\n        break;\n      case \"top,left\":\n        this.x = this.originX;\n        this.y = this.originY;\n        break;\n      default:\n        this.x = this.originX - x;\n        this.y = this.originY - y;\n    }\n    this.calculateActualSize();\n    this.trigger(\"onPositionUpdate\");\n  }\n  isCurrentElement(\n    element = { x: 0, y: 0, height: 0, width: 0 },\n    position = { x: 0, y: 0 },\n  ) {\n    let isInX =\n      position.x > element.x && position.x < element.x + element.width;\n    let isInY =\n      position.y > element.y && position.y < element.y + element.height;\n    return isInX && isInY;\n  }\n  on(names = \"\", callback = function () {}) {\n    names.split(\",\").forEach((name) => {\n      this.listeners.set(name.trim(), callback);\n    });\n  }\n  off(name = \"\") {\n    this.listeners.delete(name);\n  }\n  trigger(name = \"\", ...args) {\n    (\n      this.listeners.get(name) ||\n      function () {\n        return false;\n      }\n    )(name, this, ...args);\n  }\n}\n","import { COLUMN_TYPE } from \"../columns\";\nimport Base from \"./Base\";\nimport Stage from \"./Stage\";\nexport default class Ceil extends Base {\n  prevCeil = null;\n  nextCeil = null;\n  children = [];\n  constructor(props = {}) {\n    super(props);\n  }\n  setNeighborCeil(prev = null, next = null) {\n    this.prevCeil = prev;\n    this.nextCeil = next;\n  }\n  getPrevCeil() {\n    return this.prevCeil;\n  }\n  getNextCeil() {\n    return this.nextCeil;\n  }\n  updateValue(value = \"\") {\n    if (this.text === value) {\n      return;\n    }\n    this.text = value;\n    this.displayText = this.ellipsisText();\n    this.updateDataSource(value);\n    this.stage.render(this.stage.x, this.stage.y);\n  }\n  updateDataSource(value = \"\") {\n    this.dataSource[this.column.key] = value;\n  }\n  drawBorderRight() {\n    const { options = {} } = this.stage;\n    this.ctx.beginPath();\n    this.ctx.lineWidth = options.borderLineWidth / 2;\n    this.ctx.strokeStyle = options.borderColor;\n    this.ctx.moveTo(this.x + this.width, this.y);\n    this.ctx.lineTo(this.x + this.width, this.y + this.height);\n    this.ctx.stroke();\n  }\n  drawBackground() {\n    this.ctx.fillStyle = this.color;\n    this.ctx.fillRect(this.x, this.y, this.width, this.height);\n  }\n  draw(x = 0, y = 0) {\n    this.updatePosition(x, y);\n    this.drawBackground();\n    this.drawBorderRight();\n    if (\n      this.column.type === COLUMN_TYPE.IMAGE &&\n      this.layer.type === Stage.LayerType.BODY\n    ) {\n      super.drawImage();\n    } else {\n      super.drawText();\n    }\n  }\n}\n","import Ceil from \"./Ceil\";\nimport Layer from \"./Layer\";\n\nexport default class Stage {\n  static LayerType = {\n    HEADER: Symbol(\"header\"),\n    BODY: Symbol(\"body\"),\n    CEIL: Symbol(\"ceil\"),\n  };\n  children = [];\n  visibleRange = { x: 0, y: 0 };\n  constructor({ width = 250, height = 250, columns = [], options = {} }) {\n    let ratio = window.devicePixelRatio || 1;\n    this.width = width * ratio;\n    this.height = height * ratio;\n    this.columns = columns;\n    this.options = options;\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n    this.canvas.style.width = width + \"px\";\n    this.canvas.style.height = height + \"px\";\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.ctx.scale(ratio, ratio);\n  }\n  addLayer(...layers) {\n    this.children = this.children.concat(layers);\n    return this;\n  }\n  render(x = 0, y = 0) {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.getViewportLayers(100).forEach((layer) => {\n      layer.draw(x, y);\n    });\n  }\n  getHeaders() {\n    return this.children.filter(\n      (layer) => layer.type === Stage.LayerType.HEADER,\n    );\n  }\n  getHeadersHeight() {\n    const headers = this.getHeaders();\n    return headers.reduce((height, header) => {\n      height += header.height;\n      return height;\n    }, 0);\n  }\n  getBodys() {\n    return this.children.filter((layer) => layer.type === Stage.LayerType.BODY);\n  }\n  getViewportLayers(size = 0) {\n    //viewport 上下200条\n    const allBodyLayer = this.getBodys();\n    const headerLayer = this.getHeaders();\n    const firstLayerIndex = allBodyLayer.findIndex((layer) => {\n      return layer.y >= 0 && layer.y <= this.height;\n    });\n    let lastLayerIndex = allBodyLayer.findIndex((layer) => {\n      return layer.y >= this.height;\n    });\n    if (lastLayerIndex < 0) {\n      lastLayerIndex = this.children.length - 1;\n    }\n    const output = allBodyLayer.slice(\n      Math.max(0, firstLayerIndex - size),\n      Math.min(this.children.length, lastLayerIndex + size),\n    );\n    return output.concat(headerLayer);\n  }\n  getCurrentLayer({ x = 0, y = 0 }) {\n    let currentLayer = null;\n    const viewportLayers = this.getViewportLayers();\n    viewportLayers.forEach((layer, index) => {\n      if (layer.isCurrentElement(layer, { x, y })) {\n        layer.type === Stage.LayerType.BODY &&\n          layer.setNeighborLayer(\n            viewportLayers[index - 1],\n            viewportLayers[index + 1],\n          );\n        currentLayer = layer;\n      }\n    });\n    return currentLayer;\n  }\n  getCurrentCeil({ x = 0, y = 0 }) {\n    let currentLayer = this.getCurrentLayer({ x, y });\n    if (currentLayer) {\n      return currentLayer.getCurrentCeil({ x, y });\n    }\n    return null;\n  }\n  triggerEventToCeil(event = \"\", position = { x: 0, y: 0 }, data = {}) {\n    const ceil = this.getCurrentCeil(position);\n    if (ceil) {\n      ceil.trigger(event, data);\n      ceil.layer.trigger(event, data);\n    }\n  }\n  setName(name = \"\", args) {\n    switch (typeof name) {\n      case \"function\":\n        return name(args);\n      default:\n        return String(name);\n    }\n  }\n  setFixedState({ type = \"\", fixed = \"\" }, isFixed = false) {\n    switch (type) {\n      case Stage.LayerType.HEADER:\n        if (isFixed) {\n          return \"top,left\";\n        }\n        return fixed;\n      case Stage.LayerType.BODY:\n        if (isFixed) {\n          return \"left\";\n        }\n        return fixed;\n      default:\n        return fixed;\n    }\n  }\n  createCeils({\n    layer = null,\n    events = {},\n    type = Stage.LayerType.CEIL,\n    name = \"\",\n  }) {\n    let ceils = [];\n    const columns = layer.columns;\n    const dataSource = layer.dataSource;\n    for (let i = 0; i < columns.length; i++) {\n      let x = ceils.reduce((prev, curv, i) => {\n        prev += curv.width;\n        return prev;\n      }, 0);\n\n      ceils.push(\n        new Ceil({\n          name: this.setName(name, i),\n          type: type,\n          text: dataSource[columns[i].key] || columns[i].title,\n          x: x,\n          y: layer.y,\n          width: columns[i].width,\n          height: layer.height,\n          stage: this,\n          layer: layer,\n          color: layer.color,\n          fixed: this.setFixedState(layer, columns[i].fixed),\n          column: columns[i],\n          columns: columns,\n          dataSource: layer.dataSource,\n          events: events,\n        }),\n      );\n    }\n    layer.add(...ceils).draw();\n  }\n  createRows({\n    dataSource = [],\n    columns = [],\n    layerOptions = {},\n    ceilOptions = {},\n  }) {\n    let rows = [];\n    const {\n      name = \"\",\n      type = Stage.LayerType.BODY,\n      width = 100,\n      height = 45,\n      color = \"white\",\n      x = 0,\n      y = 0,\n      events = {},\n    } = layerOptions;\n    for (let i = 0; i < dataSource.length; i++) {\n      let row = new Layer({\n        name: this.setName(name, i),\n        type: type,\n        x: x,\n        y: y + i * height,\n        stage: this,\n        width: width,\n        height: height,\n        color: color,\n        columns: columns,\n        dataSource: dataSource[i],\n        events: events,\n      });\n      this.createCeils({\n        layer: row,\n        ...ceilOptions,\n      });\n      rows.push(row);\n    }\n    return rows;\n  }\n  getDataSource() {\n    let dataSource = [];\n    this.children.forEach((layer) => {\n      if (layer.dataSource && Object.keys(layer.dataSource).length) {\n        dataSource.push(layer.dataSource);\n      }\n    });\n    return dataSource;\n  }\n  insertCanvas(wrapper = HTMLElement) {\n    if (!wrapper.querySelector(\"canvas\")) {\n      wrapper.appendChild(this.canvas);\n    }\n  }\n}\n","import Base from \"./Base\";\nimport Stage from \"./Stage\";\n\nexport default class Layer extends Base {\n  prevLayer = null;\n  nextLayer = null;\n  children = [];\n  constructor(props = {}) {\n    super(props);\n  }\n  add(...elments) {\n    this.children = this.children.concat(elments).sort((elment) => {\n      return elment.column.fixed ? 1 : -1;\n    });\n    return this;\n  }\n  setNeighborLayer(prev = null, next = null) {\n    this.prevLayer = prev;\n    this.nextLayer = next;\n  }\n  getPrevLayer() {\n    return this.prevLayer;\n  }\n  getNextLayer() {\n    return this.nextLayer;\n  }\n  getCeils() {\n    return this.children;\n  }\n  getCurrentCeil({ x = 0, y = 0 }) {\n    let currentElement = null;\n    this.children.forEach((element, index) => {\n      if (element.isCurrentElement(element, { x, y })) {\n        element.setNeighborCeil(\n          this.children[index + 1],\n          this.children[index - 1],\n        );\n        currentElement = element;\n      }\n    });\n    return currentElement;\n  }\n  drawLine() {\n    const { options = {} } = this.stage;\n    this.ctx.beginPath();\n    this.ctx.lineWidth = options.borderLineWidth;\n    this.ctx.strokeStyle = options.borderColor;\n    this.ctx.moveTo(this.x, this.y);\n    this.ctx.lineTo(this.x + this.width, this.y);\n    this.ctx.stroke();\n  }\n  drawBackground() {\n    this.ctx.fillStyle = this.color;\n    this.ctx.fillRect(this.x, this.y, this.width, this.height);\n  }\n  getFixedCeils() {\n    return this.children.filter((ceil) => {\n      return ceil.fixed && ceil.fixed.includes(\"left\");\n    });\n  }\n  getUnfixedCeils() {\n    return this.children.filter((ceil) => {\n      return !ceil.fixed || (ceil.fixed && !ceil.fixed.includes(\"left\"));\n    });\n  }\n  getViewportCeils() {\n    const unfixedCeils = this.getUnfixedCeils().sort((a, b) => {\n      return a.x - b.x;\n    });\n    const firstCeilIndex = unfixedCeils.findIndex((ceil) => {\n      return ceil.x >= 0;\n    });\n    let lastCeilIndex = unfixedCeils.findIndex((ceil) => {\n      return ceil.x + ceil.width >= this.stage.width;\n    });\n    if (lastCeilIndex < 0) {\n      lastCeilIndex = unfixedCeils.length - 1;\n    }\n    const size = lastCeilIndex - firstCeilIndex;\n    let output = unfixedCeils.slice(\n      Math.max(0, firstCeilIndex - 5 * size),\n      Math.min(unfixedCeils.length, lastCeilIndex + 5 * size),\n    );\n    return output.concat(this.getFixedCeils());\n  }\n  draw(x = 0, y = 0) {\n    this.updatePosition(x, y);\n    if (this.isVisible() || this.type === Stage.LayerType.HEADER) {\n      // this.drawBackground();\n      this.drawLine();\n      this.getViewportCeils();\n      this.getViewportCeils().forEach((elment) => {\n        elment.draw(x, y);\n      });\n    }\n  }\n}\n","import _ from \"lodash\";\nimport { Component, createRef } from \"react\";\nimport { COLUMN_TYPE } from \"../columns\";\nimport Layer from \"./Layer\";\nimport Stage from \"./Stage\";\n\nexport default class Container extends Component {\n  listeners = new Map();\n  constructor(props) {\n    super(props);\n    this.wrapperRef = createRef();\n    this.inputLayerRef = createRef();\n    this.scrollEndRef = createRef();\n    this.columns = props.columns;\n    this.dataSource = props.dataSource;\n    this.width = 650;\n    this.height = 450;\n    this.stage = new Stage({\n      width: this.width,\n      height: this.height,\n      columns: props.columns,\n      options: props.options || {},\n    });\n    this.state = {\n      inputLayerStyle: {},\n      inputLayerVisibleState: false,\n      currentText: \"\",\n      scrollEndPosition: {\n        top: 0,\n        left: 0,\n      },\n      currentCeil: null,\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // console.log(props, state);\n    return null;\n  }\n  componentDidMount() {\n    const { options } = this.stage;\n    const headerRow = new Layer({\n      type: Stage.LayerType.HEADER,\n      x: 0,\n      y: 0,\n      stage: this.stage,\n      width: this._getTotalWidth(),\n      height: options.rowHeight,\n      color: options.header.backgroundColor,\n      fixed: \"top\",\n      columns: this.columns,\n    });\n    this.stage.insertCanvas(this.wrapperRef);\n\n    this.stage.createCeils({\n      layer: headerRow,\n    });\n\n    const bodyRows = this.stage.createRows({\n      dataSource: this.dataSource,\n      columns: this.columns,\n      layerOptions: {\n        type: Stage.LayerType.BODY,\n        width: this._getTotalWidth(),\n        y: this.stage.getHeadersHeight(),\n        color: options.body.backgroundColor,\n      },\n      ceilOptions: {\n        events: {\n          onClick: this.handleCeilClick.bind(this),\n          onPositionUpdate: this.handleCeilScroll.bind(this),\n        },\n      },\n    });\n    this.stage.addLayer(headerRow, ...bodyRows);\n\n    this.setState({\n      scrollEndPosition: {\n        top: this.stage.children.length * options.rowHeight,\n        left: this._getTotalWidth() - this.width / 2 + 5,\n      },\n    });\n\n    this.listeners.set(\n      \"detectResize\",\n      this.detectResize(() => {\n        this.stage.render(this.stage.x, this.stage.y);\n      }),\n    );\n  }\n  componentWillUnmount() {\n    this.listeners.forEach((listener) => {\n      typeof listener === \"function\" && listener();\n    });\n  }\n  detectResize(action = function () {}, delay = 0) {\n    action = _.throttle(action, delay);\n    window.addEventListener(\"resize\", action);\n    return function () {\n      window.removeEventListener(\"resize\", action);\n    };\n  }\n  _getTotalWidth() {\n    let width = 0;\n    this.columns.forEach((col) => {\n      width += col.width;\n    });\n    return width;\n  }\n  handleCeilClick(ceil = {}) {\n    const { dataSource = {}, image, column = {} } = ceil;\n    switch (column.type) {\n      case COLUMN_TYPE.IMAGE:\n        document.body.querySelectorAll(\"img\").forEach((img) => {\n          img.remove();\n        });\n        document.body.appendChild(image);\n        alert(`click on ${dataSource.name}'s avatar`);\n        break;\n      case COLUMN_TYPE.EDITABLE:\n        this.updateInputLayer(ceil);\n        this.setState({ currentCeil: ceil });\n        break;\n      case COLUMN_TYPE.FUNCTION_BOX:\n        alert(\"Functions up comming...\");\n        break;\n      default:\n        break;\n    }\n    console.log(\"click on ceil: \", ceil);\n  }\n  handleCeilScroll(ceil = {}) {\n    const { inputLayerVisibleState } = this.state;\n    inputLayerVisibleState && this.updateInputLayer(ceil, false);\n  }\n  updateInputLayer(\n    {\n      actualWidth = 0,\n      actualHeight = 0,\n      visibleX = 0,\n      visibleY = 0,\n      text = \"\",\n      color = \"orange\",\n    },\n    show = true,\n  ) {\n    this.setState({\n      inputLayerStyle: {\n        display: show ? \"inline-block\" : \"none\",\n        width: actualWidth,\n        height: actualHeight,\n        top: visibleY,\n        left: visibleX,\n        zIndex: 1,\n        background: color,\n      },\n      currentText: text,\n      inputLayerVisibleState: show,\n    });\n    if (show) {\n      setTimeout(() => {\n        this.inputLayerRef.focus();\n      });\n    }\n  }\n  handleScroll = _.throttle((e) => {\n    const { scrollTop, scrollLeft } = e.target;\n    const {\n      onScrollToTop = function () {},\n      onScrollToBottom = function () {},\n    } = this.props;\n\n    this.stage.render(scrollLeft, scrollTop);\n\n    if (scrollTop === 0) {\n      //todo x轴\n      onScrollToTop();\n    }\n    const { bottom: endBottom } = this.scrollEndRef.getBoundingClientRect();\n    const { bottom: wrapperBottom } = e.target.getBoundingClientRect();\n    if (endBottom - wrapperBottom === 0) {\n      //todo windows\n      onScrollToBottom();\n    }\n  }, 0);\n  handleClick(e) {\n    const { left, top } = e.target.getBoundingClientRect();\n    const x = e.clientX - left,\n      y = e.clientY - top;\n    this.stage.triggerEventToCeil(\"onClick\", { x, y }, { x, y });\n  }\n  handleDoubleClick() {\n    console.log(\"handleDoubleClick\");\n  }\n  handleContextMenu(e) {\n    console.log(\"handleContextMenu\");\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  handleBlur() {\n    this.updateInputLayer({}, false);\n  }\n  handleMouseMove = _.debounce((e) => {\n    const { left, top } = e.target.getBoundingClientRect();\n    const x = e.clientX - left,\n      y = e.clientY - top;\n    const currentCeil = this.stage.getCurrentCeil({ x, y });\n    if (!currentCeil) {\n      return;\n    }\n    switch (currentCeil.layer.type) {\n      case Stage.LayerType.HEADER:\n        this.wrapperRef.style.cursor = \"auto\";\n        break;\n      case Stage.LayerType.BODY:\n        if (currentCeil.column.type === COLUMN_TYPE.IMAGE) {\n          this.wrapperRef.style.cursor = \"pointer\";\n        } else if (currentCeil.column.type === COLUMN_TYPE.EDITABLE) {\n          this.wrapperRef.style.cursor = \"text\";\n        } else {\n          this.wrapperRef.style.cursor = \"auto\";\n        }\n        break;\n      default:\n        this.wrapperRef.style.cursor = \"auto\";\n    }\n  }, 50);\n  handleMouseEnter = _.debounce((e) => {\n    // this.wrapperRef.style.cursor = \"text\";\n  }, 100);\n  handleMouseOut = _.debounce((e) => {\n    this.wrapperRef.style.cursor = \"auto\";\n  }, 100);\n  handleUpdateCeilData(e) {\n    const { currentCeil } = this.state;\n    currentCeil.updateValue(this.inputLayerRef.textContent);\n  }\n  render() {\n    const { inputLayerStyle, currentText, scrollEndPosition } = this.state;\n    return (\n      <>\n        <div\n          className=\"wrapper\"\n          ref={(el) => (this.wrapperRef = el)}\n          onClick={this.handleClick.bind(this)}\n          onBlur={this.handleBlur.bind(this)}\n          onDoubleClick={this.handleDoubleClick.bind(this)}\n          onContextMenu={this.handleContextMenu.bind(this)}\n          onMouseMove={this.handleMouseMove.bind(this)}\n          onMouseEnter={this.handleMouseEnter.bind(this)}\n          onMouseOut={this.handleMouseOut.bind(this)}\n        >\n          <div className=\"wrapper-scroll\">\n            <div\n              className=\"wrapper-scroll-inner\"\n              style={{\n                width: this.width + 10,\n                height: this.height + 10,\n              }}\n              onScroll={this.handleScroll.bind(this)}\n            >\n              <div\n                className=\"wrapper-scroll-end\"\n                ref={(el) => (this.scrollEndRef = el)}\n                style={scrollEndPosition}\n              ></div>\n              <div\n                className=\"input-placeholder\"\n                ref={(el) => (this.inputLayerRef = el)}\n                style={inputLayerStyle}\n                onClick={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }}\n                onBlur={this.handleUpdateCeilData.bind(this)}\n                contentEditable={true}\n                suppressContentEditableWarning={true}\n              >\n                {currentText}\n              </div>\n            </div>\n          </div>\n        </div>\n        <br />\n      </>\n    );\n  }\n}\n","import faker from \"faker\";\n\nexport const dataSourceCreator = function (source = [], size = 1000) {\n  for (let i = 0; i < size; i++) {\n    source.push({\n      id: \"\" + i, // faker.datatype.uuid(),\n      avatar: faker.image.avatar(),\n      province: faker.address.state(),\n      city: faker.address.city(),\n      name: faker.name.findName(),\n      zipcode: faker.address.zipCode(),\n      age: \"\" + faker.datatype.number(100),\n      description: faker.lorem.sentence(),\n      address: faker.address.streetAddress(),\n    });\n  }\n  return source;\n};\n\nexport const dataSource = dataSourceCreator([]);\n","import { createRef, useEffect } from \"react\";\nimport \"./App.css\";\nimport { columns } from \"./columns\";\nimport Container from \"./components/Container\";\nimport { dataSource } from \"./mock\";\nimport { createDownloadLink } from \"./utils\";\n\nfunction App() {\n  let cantainerRef = createRef();\n  const tableOptions = {\n    borderLineWidth: 1,\n    borderColor: \"#FFFFFF\",\n    rowHeight: 45,\n    fontFamily: \"sans-serif\",\n    textAlign: \"center\",\n    textBaseline: \"center\",\n    fontSize: 16.0,\n    color: \"#000000\",\n    header: {\n      backgroundColor: \"#ffa500\",\n    },\n    body: {\n      backgroundColor: \"#008000\",\n    },\n  };\n  const sortFixedColumns = function (columns = []) {\n    let ouput = columns.filter((col) => col.fixed);\n    return ouput.concat(columns.filter((col) => !col.fixed));\n  };\n  const handleScrollToTop = function () {\n    console.log(\"to the top\");\n  };\n  const handleScrollToBottom = function () {\n    console.log(\"to the bottom\");\n  };\n\n  useEffect(() => {\n    window.GoInstanceWorker.addEventListener(\n      \"message\",\n      function ({ data = {} }) {\n        const { type, message } = data;\n        if ((type === \"getCsv\" || type === \"getExcel\") && message) {\n          setTimeout(() => {\n            createDownloadLink(message.url, message.filename);\n          });\n        }\n      },\n    );\n  });\n  return (\n    <>\n      <Container\n        ref={(el) => (cantainerRef = el)}\n        columns={sortFixedColumns(columns)}\n        dataSource={dataSource}\n        onScrollToTop={handleScrollToTop}\n        onScrollToBottom={handleScrollToBottom}\n        options={tableOptions}\n      />\n      <div>\n        <button\n          style={{ marginRight: 15 }}\n          onClick={() => {\n            const filename = window.prompt(\"Please enter filename!\", \"test\");\n            window.GoInstanceWorker.postMessage({\n              type: \"getCsv\",\n              message: {\n                dataSource: cantainerRef.stage.getDataSource(),\n                filename,\n              },\n            });\n          }}\n        >\n          export dataSource to csv file\n        </button>\n        <button\n          onClick={() => {\n            const filename = window.prompt(\"Please enter filename!\", \"test\");\n            window.GoInstanceWorker.postMessage({\n              type: \"getExcel\",\n              message: {\n                dataSource: cantainerRef.stage.getDataSource(),\n                filename,\n                columns: cantainerRef.stage.columns,\n                tableOptions: cantainerRef.stage.options,\n              },\n            });\n          }}\n        >\n          export dataSource to excel file\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","export const createDownloadLink = function (url = \"\", filename = \"\") {\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  link.remove();\n  URL.revokeObjectURL(url);\n};\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}